---
title: "İstatistiksel Hesaplama ve Programlama için R - Ödev Sunumu"
author: "Eren Hatipoğlu"
output: github_document
bibliography: tidyref3.bib
nocite: '@*'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(VIM)
library(naniar)
library(psych)
library(dplyr)
library(ggplot2)
```

## Makale Hakkında

-   "Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization, and Assessment of Imputations"
-   Tierney ve Cook (2023)
-   Journal of Statistical Software
-   "Naniar" pakediyle yeni fonksiyonlar sunarak kayıp veri analizi ve görselleştirmesi iyileştirilmiştir.

## Makale Kullanılan Metodlar

1)  Tidy Data Principles

2)  Nabular Data:

    ![](görseller/nabulardata.JPG)
    
3)  Kayıp Verilerin Görsel ve Sayısal Özetleri:

    | Değişken | n_miss | pct_miss |
    |----------|--------|----------|
    | Ozone    | 37     | 24.2     |
    | Solar.R  | 7      | 4.6      |
    | Wind     | 0      | 0.0      |
    | Temp     | 0      | 0.0      |
    | Month    | 0      | 0.0      |
    | Day      | 0      | 0.0      |

## Veri Seti

```{r sleep-dataset, echo = TRUE}
data("sleep", package = "VIM")
head(sleep)
```
```{r sleep-dataset01, echo = TRUE}
data("sleep", package = "VIM")
describe(sleep)
```
## Naniar Pakedinin Uygulanması

Missing Completely at Random (MCAR) Test:
```{r sleep-dataset1, echo = TRUE}
mcar_test(sleep)
```

### Kayıp Veri İşlemleri

```{r sleep-dataset2, echo = TRUE}
# Her satırdaki kayıp değerlerin sayısını gösteren kolon
sleep <- add_n_miss(sleep)
# Her satırdaki kayıp değerlerin oranını gösteren kolon
sleep <- add_prop_miss(sleep)
# Her bir satırda kayıp değer olup olmadığını gösteren kolon.
sleep <- add_any_miss(sleep)
# Kayıp veri gruplarını gösteren kolon.
sleep <- add_miss_cluster(sleep)
```
```{r sleep-dataset3, echo=FALSE, results='asis'}
cat('<div class="scrollable-table">')
print(knitr::kable(head(sleep)))
cat('</div>')
```


Kayıp veri temsilinde kullanılan işaretlerin taranması:
```{r sleep-dataset4, echo = TRUE}
miss_val <- c("N/A", "Null", "NaN", "-99")
miss_scan_count(sleep, search = miss_val)
```


Sleep verisetinin nabular data'ya çevrilmesi:
```{r sleep-dataset5, echo = TRUE}
sleep_nabular <- nabular(sleep)
```
```{r sleep-dataset6, echo=FALSE, results='asis'}
cat('<div class="scrollable-table">')
print(knitr::kable(head(sleep_nabular)))
cat('</div>')
```


Kayıp verilerdeki örüntüleri incelemek için geçici olarak "10% below the range" kayıp veri ataması:
```{r sleep-dataset7, echo = TRUE, warning=FALSE}
sleep_imputed <- impute_below_all(sleep_nabular)
```


Geçici kayıp veri ataması alternatif olarak ortalama veya medyan kullanılarak da yapılabilir:
```{r sleep-dataset8, echo = TRUE}
# sleep_imputed <- impute_mean_all(sleep_nabular)
# sleep_imputed <- impute_median_all(sleep_nabular)
```
```{r sleep-dataset9, echo=FALSE, results='asis'}
cat('<div class="scrollable-table">')
print(knitr::kable(head(sleep_imputed)))
cat('</div>')
```


Density plot ile kayıp verilerin dağılımının incelenmesi:
```{r sleep-dataset10, echo = TRUE, warning=FALSE}
ggplot() +
  geom_density(data = sleep, aes(x = Sleep, fill = "Original"), alpha = 0.5, na.rm = TRUE) +
  geom_density(data = sleep_imputed, aes(x = Sleep, fill = "Imputed"), alpha = 0.5) +
  labs(x = "Sleep", title = "Density Plot of Sleep Hours", fill = "Data Type") +
  scale_fill_manual(values = c("Original" = "red", "Imputed" = "green")) +
  theme_minimal()
```

### Naniar Pakedinde Sunulan Grafik Fonksiyonları

```{r sleep-dataset11, echo = TRUE, warning=FALSE}
# Her bir değişkendeki kayıp değerlerin grafiği
gg_miss_var(sleep)

# Her bir satırdaki kayıp verilerin grafiği
gg_miss_case(sleep)

# Karmaşık kayıp veri örüntülerinin görselleştirilmesi
gg_miss_upset(sleep)

# Kayıplığa genel bir bakış
vis_miss(sleep)
```

### Naniar Pakedinde Sunulan Sayısal Özet Fonksiyonları

```{r sleep-dataset12, echo = TRUE, warning=FALSE}
n_miss(sleep) # toplam kayıp veri sayısı
prop_miss(sleep) # kayıp verilerin oranı
pct_miss(sleep) # kayıp verilerin yüzdesi
```

```{r sleep-dataset13, echo = TRUE, warning=FALSE}
# Değişken bazında özet
miss_var_summary(sleep)

# Değişken bazında özet tablosu
miss_var_table(sleep)

# Satır bazında özet
miss_case_summary(sleep)

# Satır bazında özet tablosu
miss_case_table(sleep)
```

## Avantaj ve Dezavantajlar

Avantajlar:

-   Grafikler: Kayıp verileri görselleştirip aralarındaki bağlantıyı görmek için başarılı grafikler sunuyor.
-   Detaylı Analiz: Yüzeysel veya detaylı analizler yapmak için başarılı fonksiyonlar sunuyor.
-   Tidyverse ile Uyumluluk: Tidyverse ile entegre olarak geliştirilmiş, tidyverse yaklaşımıyla çalışanlar için kullanışlı olacak bir paket.

Dezavantajlar:

-   Keşifsel Analiz Odağı: Keşifsel kayıp veri analizi vurgulanmış fakat istatistiksel testler veya detaylı analitik metodlar üzerinde durulmamıştır.
-   R Programlama Dili Odağı: R ve Tidyverse bazlı olduğu için başka programlama dillerini tercih edenler tarafından kullanılamayacaktır bu yüzden potansiyel kullanıcı kitlesi dardır.
-   Büyük Verisetlerindeki Performans: Büyük bir veriyle karşılaşıldığında performansı düşebilir, bu konu için daha efektif yaklaşımlar gerçekleştirilebilir.

## Kaynaklar


